Введение
========

Назначение документации
-----------------------

Документация на приложение BookTrack предназначена для обеспечения полноценного использования программного продукта конечными пользователями и разработчиками. Она предоставляет необходимую информацию об установке, настройке, использовании и техническом обслуживании приложения, а также содержит руководства для программистов, администраторов и пользователей.

Цель настоящей документации - обеспечить удобство использования приложения и его успешную эксплуатацию, а также оказать помощь в решении возникающих проблем и вопросов по использованию.

Описание приложения и его функциональности
------------------------------------------

_BookTrack_ представляет собой инструмент для автоматизации учета книг в библиотеке. Оно позволяет регистрировать читателей, выдавать и возвращать книги, а также хранить информацию о людях и книгах в базе данных. На данный момент доступна `версия 1.0`, с возможностью добавления, изменения и удаления человека и книги, списков всех людей и книг, страницы человека с его списком книг и страницы книги с информацией о человеке, который взял эту книгу. В приложении реализована также пагинация и сортировка. По мере развития проекта будут добавляться новые функции

Целевая аудитория
-----------------

Целевая аудитория для приложения BookTrack - это люди, управляющие библиотекой, которые нуждаются в эффективной и удобной системе учета книг и читателей. В частности, это могут быть библиотекари в школах, университетах, общественных библиотеках, частных коллекциях и т.д.

Требования к ПО
===============

Список необходимого ПО
----------------------

Java Runtime Environment (JRE) v.18

СУБД PostgreSQL версии 9.6 или выше.

Интернет-браузер с поддержкой HTML5, такой как Google Chrome, Mozilla Firefox или Safari.

Системные требования
--------------------

Процессор: двухъядерный процессор с частотой не менее 1,6 ГГц.

Видеокарта: требования к графической подсистеме отсутствуют

Оперативная память: 1 ГБ

Место на диске: 500 МБ

Операционная система: Windows 7 / 8.1 64-разрядная / macOS 10.15 или новее

Руководство пользователя
========================

Цель данного раздела - помочь пользователю понять, как пользоваться интерфейсом приложения и какие возможности оно предоставляет, чтобы он мог максимально эффективно использовать приложение для своих нужд.

Структура и функциональность интерфейса
---------------------------------------

В данном подразделе нужно описать, как устроен интерфейс приложения и какие функциональные возможности он предоставляет (например, что происходит при нажатии на определенную кнопку или как заполнять поля ввода).

Описание основных элементов управления
--------------------------------------

Привести описание расположения элементов интерфейса на экране (кнопки, поля ввода и т.д.).

Скриншоты интерфейса
--------------------

В этом разделе можно предоставить скриншоты всех основных окон и форм, которые содержатся в приложении. Кроме того, можно добавить пояснительные комментарии к каждому скриншоту, чтобы обеспечить понимание того, как использовать и взаимодействовать с интерфейсом приложения.

Описание возможностей приложения
--------------------------------

Приложение BookTrack `версии 1.0` имеет следующий функционал:

*   Добавление новых книг и читателей в базу данных
*   Просмотр списка книг с информацией об авторе, названии и годе издания
*   Редактирование информации о книге и читателе
*   Удаление книг и читателей из базы данных
*   Поиск книг по автору или названию
*   Отображение списка всех читателей и книг
*   Возможность фильтрации книг по году издания
*   Сортировка книг по названию, году издания и автору

Инструкция по добавлению, изменению и удалению книг и читателей
---------------------------------------------------------------

В данном разделе приведены инструкции по регистрации, просмотру, изменению и удалению книг и читателей в приложении BookTrack.

После запуска приложения BookTrack и успешного соединения с базой данных автоматически откроется новое окно в браузере с главной страницей приложения `localhost:8080/people`, где можно увидеть список всех читателей.

![](https://user-images.githubusercontent.com/110664019/227725143-8b0dbb2f-071a-4dc1-92c0-899175c9842d.png)

**Для просмотра всех книг необходимо перейти по адресу**  `localhost:8080/books`

![](https://user-images.githubusercontent.com/110664019/227724839-71963374-e68f-45fa-b78c-431236898ba9.png)

**Для регистрации нового читателя необходимо:** 

1\. Перейти в адресной строке браузера по адресу `localhost:8080/people`2\. Нажать кнопку `Добавить человека`2\. Заполнить форму с данными читателя: ФИО, год рождения.

3\. Нажать на кнопку `Create!`![](https://user-images.githubusercontent.com/110664019/227723944-aa2e4d07-1366-4743-8c56-149152f8142f.png)

**Для регистрации новой книги необходимо:** 

1\. Перейти на страницу `localhost:8080/books/new`2\. Заполнить форму с данными книги: название, автор, год издания

3\. Нажать на кнопку `Сreate!`![](https://user-images.githubusercontent.com/110664019/227724039-36c99a42-8b16-4fe9-beff-b5e858f39883.png)

**Для изменения данных о книге необходимо:** 

1\. Перейти на страницу со списком всех книг `localhost:8080/books`![](https://user-images.githubusercontent.com/110664019/227724839-71963374-e68f-45fa-b78c-431236898ba9.png)

2\. Найти нужную книгу в списке и выбрать ее путем нажатия левой кнопкой мыши.

3\. Изменить нужные данные в форме.

3\. Нажать на кнопку `Update!`.

![](https://user-images.githubusercontent.com/110664019/227724102-e6458956-8790-4a28-b65a-150ab5c977ab.png)

**Для изменения данных о читателе необходимо:** 

1\. Перейти на страницу со списком всех читателей `localhost:8080/people`![](https://user-images.githubusercontent.com/110664019/227725158-dd31442b-a643-43bc-a166-1baaa49e46bf.png)

2\. Найти нужного читателя в списке и выбрать его путем нажатия левой кнопкой мыши

3\. Изменить нужные данные в форме.

3\. Нажать на кнопку `Update!`.

![](https://user-images.githubusercontent.com/110664019/227723814-2c24c6ad-6724-42ad-8835-26f638f2d652.png)

Инструкция по выдаче и возврату книг
------------------------------------

Описание поиска и сортировки книг
---------------------------------

Руководство системного администратора
=====================================

Описание процесса установки и настройки приложения
--------------------------------------------------

Описание процесса установки и настройки приложения BookTrack:

1.  Загрузить и установить Java Runtime Environment (JRE) версии 8 или выше.
2.  Загрузить и установить PostgreSQL. Для установки PostgreSQL необходимо следовать инструкциям, предоставленным на официальном сайте.
3.  Создать базу данных. Для создания базы данных необходимо выполнить следующие шаги:

*   Запустите программу psql, введя команду в командной строке: _psql._
*   Создайте новую базу данных, введя команду: _CREATE DATABASE first\_db;_
*   Создайте нового пользователя, введя команду: _CREATE USER postgres WITH PASSWORD 'admin';_
*   Предоставьте пользователю права на базу данных, введя команду: _GRANT ALL PRIVILEGES ON DATABASE first\_db TO postgres;_

4.  В созданной базе данных first\_db необходимо создать 2 таблицы со связью one-to-many.

Для создания таблицы **Person**  выполните следующие шаги:

*   Откройте программу psql и подключитесь к базе данных first\_db, используя команду _\\c first\_db_.
*   Создайте таблицу Person, используя следующую команду:

`CREATE TABLE Person ( id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, first_name VARCHAR(50) NOT NULL, surname VARCHAR(50) NOT NULL, patronymic VARCHAR(50), birth_year int NOT NULL );`

Проверьте, что таблица Person была успешно создана, используя команду _\\d._

Для создания таблицы **Book**  выполните следующие шаги:

*   Откройте программу psql и подключитесь к базе данных first\_db, используя команду _\\c first\_db_.
*   Создайте таблицу Book, используя следующую команду:

`CREATE TABLE Book ( book_id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, title VARCHAR(100) NOT NULL UNIQUE, author VARCHAR(100) NOT NULL, year int NOT NULL, person_id int REFERENCES Person(id) ON DELETE SET NULL );`

Проверьте, что таблица Book была успешно создана, используя команду _\\d_.

В таблице Book добавлено поле person\_id, которое является внешним ключом, ссылающимся на поле id таблицы Person. Это позволяет установить связь между таблицами Person и Book и выполнить запросы на выборку данных, связанных с определенным пользователем.

5.  Загрузите и распакуйте архив с приложением BookTrack.
6.  Запустите приложение. Для запуска приложения необходимо выполнить следующие шаги:

*   Открыть терминал в директории, в которую был распакован архив с приложением.
*   Ввести команду: _java -jar booktrack.jar_

7.  Настройте подключение к базе данных. Для настройки подключения к базе данных необходимо открыть файл hibernate.properties, расположенный в директории с приложением и ввести необходимые параметры подключения к базе данных:

**_hibernate.driver\_class=org.postgresql.Driver_** - указывает драйвер, необходимый для подключения к базе данных postgresql.

**_hibernate.connection.url=jdbc:postgresql://localhost:5432/first\_db_** - указывает URL-адрес базы данных, на которую будет выполняться подключение.

**_hibernate.connection.username=postgres_** \- указывает имя пользователя, который будет использоваться при подключении к базе данных.

**_hibernate.connection.password=admin_** - указывает пароль пользователя, который будет использоваться при подключении к базе данных.

**_hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect_** \- указывает диалект базы данных postgresql, который будет использоваться Hibernate для выполнения запросов к базе данных.

**_hibernate.show\_sql=true_** - указывает, что необходимо выводить SQL-запросы в логах приложения.

После того, как все параметры настроены, приложение BookTrack будет готово к работе с базой данных first\_db.

Инструкции по установке и настройке приложения на удаленном сервере
-------------------------------------------------------------------

Здесь должно быть приведено подробное описание шагов, которые необходимо выполнить для установки приложения на удаленный сервер. Это может включать в себя установку необходимых компонентов, копирование файлов, настройку параметров приложения и т.д.

Описание структуры базы данных
------------------------------

Раздел должен содержать описание всех таблиц и полей, используемых в базе данных приложения, а также описание их взаимосвязей. Это поможет пользователям и администраторам лучше понимать, как данные хранятся в базе и как они могут быть использованы.

Методы обеспечения безопасности приложения
------------------------------------------

Описание процесса настройки системы безопасности, включая установку прав доступа, защиту от SQL-инъекций, а также настройку брандмауэра

Описание процедур обновления и резервного копирования
-----------------------------------------------------

 В этом разделе необходимо описать процедуры обновления и резервного копирования приложения и базы данных.

1.  Описание процедуры обновления может включать в себя следующие шаги:
2.  Создание резервной копии приложения и базы данных
3.  Скачивание новой версии приложения
4.  Установка новой версии приложения
5.  Обновление базы данных в соответствии с новой версией приложения
6.  Проверка работоспособности приложения после обновления

Описание процедуры резервного копирования может включать в себя следующие шаги:

1.  Определение частоты резервного копирования (ежедневное, еженедельное и т.д.)
2.  Определение места хранения резервной копии (локальный диск, облачное хранилище и т.д.)
3.  Создание резервной копии базы данных
4.  Проверка целостности и доступности резервной копии
5.  Проверка работоспособности приложения на основе резервной копии базы данных.

Руководство разработчика
========================

Архитектура ПО
--------------

### Описание архитектуры

Приложение BookTrack состоит из трех основных компонентов: контроллера, сервисного слоя (бизнес-логики) и слоя работы с БД.

  
**Контроллер** является основным компонентом, который обрабатывает запросы от пользователей и решает, какие данные необходимо получить из сервисного слоя. Контроллер также обрабатывает ошибки и возвращает соответствующие сообщения.  
**Сервисный слой** содержит бизнес-логику приложения и является промежуточным слоем между контроллером и слоем работы с БД. Здесь находятся методы, которые обрабатывают запросы от контроллера, проводят нужные операции и возвращают результаты.  
**Слой работы с БД** отвечает за взаимодействие с базой данных, включая чтение и запись данных. В приложении BookTrack используется PostgreSQL в качестве БД и Spring DATA JPA для упрощения доступа к данным. Здесь находятся методы для работы с сущностями в БД, такие как сохранение, чтение, обновление и удаление, которые реализованы с помощью JPA-репозиториев и сущностей. Spring DATA JPA позволяет минимизировать объем кода для доступа к БД, а также предоставляет гибкую конфигурацию и маппинг сущностей на таблицы БД.

Диаграмма компонентов и взаимодействия поможет наглядно представить, как компоненты взаимодействуют друг с другом. В приложении BookTrack она выглядит следующим образом:

![](https://user-images.githubusercontent.com/110664019/227276761-5795c669-d7e7-436d-8f65-94d285143ceb.png)

На диаграмме компонентов видно, что контроллер взаимодействует с сервисным слоем, который в свою очередь взаимодействует со слоем работы с БД.

| Контроллер      | Сервисный слой (Бизнес-Логика) | Слой работы с БД      |
|-----------------|--------------------------------|-----------------------|
| Controller.java | BookService.java               | PeopleRepository.java |
|                 | PeopleService.java             | BookRepository.java   |



Описание модулей и компонентов
------------------------------

В этом разделе необходимо указать, какой функционал выполняет каждый модуль и какие компоненты используются

Диаграммы компонентов и взаимодействия
--------------------------------------

Здесь можно схематично отобразить взаимодействие методов и классов, чтобы выявить последовательности, позволяющие визуализировать взаимодействие компонентов и последовательность выполнения операций

Тестирование ПО
---------------

### Описание методов и процедур тестирования

*   Описание методов и процедур тестирования для приложения BookTrack:
    
    1.  Методы тестирования функциональности:
    
    *   Тестирование добавления новой книги в систему
    *   Тестирование добавления нового читателя в систему
    *   Тестирование поиска книги по названию, автору и году выпуска
    *   Тестирование выдачи книги читателю
    *   Тестирование возврата книги читателем
    *   Тестирование удаления книги из системы
    *   Тестирование удаления читателя из системы
    *   Тестирование обновления данных о книге
    *   Тестирование обновления данных о читателе
    
    2.  Методы тестирования производительности:
    
    *   Тестирование скорости поиска книги в базе данных
    *   Тестирование скорости выдачи книги читателю
    *   Тестирование скорости возврата книги читателем
    *   Тестирование скорости обновления данных о книге
    *   Тестирование скорости обновления данных о читателе
    
    3.  Методы тестирования безопасности:
    
    *   Тестирование защиты приложения от SQL-инъекций
    *   Тестирование корректности обработки ошибок и исключений
    
    4.  Методы тестирования совместимости:
    
    *   Тестирование совместимости приложения с различными операционными системами (Windows, Linux, Mac)
    *   Тестирование совместимости приложения с различными версиями Java
    *   Тестирование совместимости приложения с различными СУБД (PostgreSQL, MySQL, Oracle)

### Результаты тестирования

*   В этом разделе следует предоставить информацию о результатах тестирования, которые были получены в процессе тестирования. Например, следует указать количество найденных ошибок и дефектов, а также описать, как они были исправлены.
*   Также следует описать любые проблемы, которые были выявлены в процессе тестирования. Например, это могут быть проблемы с производительностью, неработающие функции, проблемы совместимости и т.д.

Список использованных технологий
================================

Технологии, которые использовались для реализации
-------------------------------------------------

*   [Java 18](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/module-summary.html)
*   [Maven](https://maven.apache.org/guides/)
*   [Spring Boot](https://docs.spring.io/spring-boot/docs/current/reference/html/)
*   [Hibernate](https://hibernate.org/orm/documentation/6.1/)
*   [Spring Data JPA](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/)
*   [Thymeleaf](https://www.thymeleaf.org/documentation.html)
*   [PostgreSQL](https://www.postgresql.org/docs/)

Версии используемых библиотек и фреймворков
-------------------------------------------

Список литературы
=================

Список использованной литературы и ресурсов
-------------------------------------------
